<section class="section-block">
  <div class="luxeline-container">
    <div class="section-title">
      <h1 class="luxeline-heading" style="font-size: clamp(2.4rem, 4vw, 3.6rem);">{{ section.settings.heading }}</h1>
      <p>{{ section.settings.subheading }}</p>
    </div>
    {% assign category_list = '' %}
    {% for block in section.blocks %}
      {% assign category_list = category_list | append: block.settings.category | append: '||' %}
    {% endfor %}
    {% assign categories = category_list | split: '||' | uniq %}
    {% for category in categories %}
      {% if category != blank %}
        <div class="faq-category">
          <h2 class="luxeline-heading" style="font-size: 2rem;">{{ category }}</h2>
          {% for block in section.blocks %}
            {% if block.settings.category == category %}
              <details class="faq-item" {{ block.shopify_attributes }}>
                <summary>{{ block.settings.question }}</summary>
                <p>{{ block.settings.answer }}</p>
              </details>
            {% endif %}
          {% endfor %}
        </div>
      {% endif %}
    {% endfor %}
  </div>
</section>

{% schema %}
{
  "name": "FAQ accordion",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Frequently Asked Questions"
    },
    {
      "type": "textarea",
      "id": "subheading",
      "label": "Subheading",
      "default": "Everything you need to know about LuxeLine wigs, shipping, and care"
    }
  ],
  "blocks": [
    {
      "type": "faq",
      "name": "FAQ",
      "settings": [
        {
          "type": "text",
          "id": "category",
          "label": "Category",
          "default": "General"
        },
        {
          "type": "text",
          "id": "question",
          "label": "Question",
          "default": "What makes LuxeLine wigs different?"
        },
        {
          "type": "textarea",
          "id": "answer",
          "label": "Answer",
          "default": "LuxeLine wigs are crafted from 100% premium human hair with HD lace technology for an undetectable, natural appearance."
        }
      ]
    }
  ],
  "max_blocks": 50
}
{% endschema %}
